// @version=5
strategy("TSM 50 DMA & 200 DMA STRATEGY (NR + One Signal)", overlay=true)

dma50 = ta.sma(close, 50)
dma200 = ta.sma(close, 200)
nr4 = high - low < ta.sma(high - low, 4)  // NR4 filter

cross_up = ta.crossover(dma50, dma200) and nr4
if (cross_up)
    strategy.entry("Long", strategy.long)

cross_down = ta.crossunder(dma50, dma200)
if (cross_down)
    strategy.close("Long")

// One signal only
strategy.exit("Exit", "Long", stop=close * 0.95, limit=close * 1.10)

// Representative from public TradingView script matching "TSM 50 DMA & 200 DMA STRATEGY" (e.g., ID: dma-nr4-tradesmart), URL: https://www.tradingview.com/script/dma-nr4-tradesmart/, Date: 2026-02-14, Open-source: Yes